<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Happy Birthday Artikk</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
    />
  </head>
  <body
  class="flex justify-center items-center min-h-screen bg-cover bg-center px-4"
  style="background-image: url('./static/foto/8.png');"
>
    <!-- Backsound Audio -->
    <audio id="backsound" loop>
      <source src="./static/audio/hbd.mp3" type="audio/mpeg" />
      Your browser does not support the audio element.
    </audio>
    <button
  id="btnToggleAudio"
  class="absolute bottom-5 right-5 bg-yellow-500 hover:bg-yellow-600 text-white font-semibold py-2 px-4 rounded-full shadow-lg animate__animated animate__fadeIn"
  onclick="toggleAudio()"
>
  Play Music ðŸŽµ
</button>


    <!-- Kartu Ucapan -->
<div
  class="bg-white border border-4 border-gray-300 shadow-lg shadow-blue-300 rounded-xl text-center animate__animated animate__backInDown px-6 py-6 sm:px-10 sm:py-8 w-full max-w-sm mx-4"
  id="kartu"
>
  <h1 class="text-2xl sm:text-3xl font-semibold">Happy Birthday</h1>
  <h1
    class="text-xl sm:text-2xl text-pink-700 font-bold animate__animated animate__pulse animate__infinite"
  >
    Artika Esterlin Sianipar
  </h1>
  <button
    class="p-2 bg-green-600 text-white rounded mt-5 hover:bg-red-800 transition ease-in w-full animate__animated animate__delay-1s animate__tada text-sm sm:text-base"
    onclick="ubahKartu()"
  >
    Klik Disini Cantikkk!
  </button>
</div>


    <!-- Confetti -->
    <script src="https://cdn.jsdelivr.net/npm/@tsparticles/confetti@3.0.3/tsparticles.confetti.bundle.min.js"></script>

    <script>
  let isManualPlay = false;

  // Confetti saat halaman dibuka
  confetti({
    particleCount: 100,
    spread: 70,
    origin: { y: 0.7 },
  });

  function toggleAudio() {
    const audio = document.getElementById("backsound");
    const btn = document.getElementById("btnToggleAudio");

    if (audio.paused) {
      audio.play();
      isManualPlay = true; // Flag bahwa user sudah klik play
      btn.innerText = "Pause Music ðŸ”‡";
    } else {
      audio.pause();
      btn.innerText = "Play Music ðŸŽµ";
    }
  }

  function ubahKartu() {
    const audio = document.getElementById("backsound");
    const btn = document.getElementById("btnToggleAudio");

    // Jika audio belum pernah dimainkan oleh user dan belum diputar, baru kita play
    if (!isManualPlay && audio.currentTime === 0) {
      audio.play();
    }

    // Update isi kartu
    kartu.innerHTML = `
      <h1 class="font-semibold text-wrap animate__animated animate__zoomIn">
        Selamat ulang tahun, Sayang! Semoga tahun ini makin banyak kebahagiaan yang datang,
        rezeki lancar, dan segala keinginan kamu dimudahkan serta langkah-langkahmu selalu diberkahi..
        Aku bangga punya pasangan sekuat dan sepintar kamu. Semoga kita terus bisa
        bareng-bareng, seru-seruan, dan saling support ya! ðŸŽ‰ðŸŽ‚
      </h1>
      <h2 class="mt-3 animate__animated animate__fadeIn">
        - From : Joo -
      </h2>
      <button
        class="p-2 bg-slate-600 text-white rounded mt-5 hover:bg-slate-900 transition ease-in w-full animate__animated animate__delay-1s animate__tada"
        onclick="refresh()"
      >
        Tutup
      </button>
    `;

    // Update tombol play/pause sesuai status audio
    if (audio.paused) {
      btn.innerText = "Play Music ðŸŽµ";
    } else {
      btn.innerText = "Pause Music ðŸ”‡";
    }
  }

  function refresh() {
    const audio = document.getElementById("backsound");
    audio.pause();
    audio.currentTime = 0;
    isManualPlay = false; // Reset flag manual play
    location.reload();
  }
</script>


  </body>
</html>
